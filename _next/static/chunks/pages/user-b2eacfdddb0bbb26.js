(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{9032:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return e(9155)}])},4547:function(n,t,e){"use strict";e.d(t,{Z:function(){return p}});var r=e(5893),c=e(4051),u=e.n(c),s=e(262),o=e(7294),a=e(6489);function i(n,t,e,r,c,u,s){try{var o=n[u](s),a=o.value}catch(i){return void e(i)}o.done?t(a):Promise.resolve(a).then(r,c)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var u=n.apply(t,e);function s(n){i(u,r,c,s,o,"next",n)}function o(n){i(u,r,c,s,o,"throw",n)}s(void 0)}))}}function l(n){var t=(0,o.useState)(null),e=t[0],c=t[1],i=function(){var n=f(u().mark((function n(){var t,e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.GS)();case 2:t=n.sent,e=t.success,r=t.wallet,console.log("connecting..",r,e),c(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=f(u().mark((function n(){var t,e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.iy)();case 2:t=n.sent,e=t.success,r=t.wallet,console.log("disconnect..",r,e),c(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Link,{route:"/verifier",children:(0,r.jsx)("a",{className:"btn",children:"Verifier"})}),(0,r.jsx)(s.Link,{route:"/user",children:(0,r.jsx)("a",{className:"btn",children:"User"})}),(0,r.jsx)(s.Link,{route:"#",children:(0,r.jsx)("a",{className:"btn",onClick:e?l:i,children:e?e.slice(0,4)+"..."+e.slice(e.length-4,e.length):"Connect wallet"})})]})}var p=function(n){var t=n.children;return(0,r.jsxs)("div",{className:" flex flex-col items-center justify-between",children:[(0,r.jsx)(l,{}),t]})}},9155:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var r=e(4051),c=e.n(r),u=e(5893),s=e(7294),o=e(4547),a=e(262),i=e(5675),f=e.n(i),l=e(5235);function p(n){var t=null!==n&&void 0!==n?n:{},e=t.name,r=t.thumbnailUri,c=t.contract,o=t.tokenId,i=(0,s.useContext)(l.R),p=(i.ticket,i.setTicket);return(0,u.jsx)("div",{className:"flex flex-col items-center",onClick:function(){p(n)},children:(0,u.jsx)(a.Link,{route:"/user/ticket",params:{name:"alan"},children:(0,u.jsx)("a",{children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:max-w-xl rounded-lg bg-white shadow-lg",children:[(0,u.jsx)(f(),{className:"w-1/2 h-96 md:h-auto object-cover md:w-48 rounded-t-lg md:rounded-none md:rounded-l-lg",src:r,alt:"",width:500,height:500}),(0,u.jsxs)("div",{className:"p-6 flex flex-col justify-start",children:[(0,u.jsx)("h5",{className:"text-gray-900 text-xl font-medium mb-2",children:e}),(0,u.jsx)("p",{className:"text-gray-700 text-base mb-4",children:c}),(0,u.jsx)("p",{className:"text-gray-600 text-xs",children:o})]})]})})})})}var d=e(3866);function v(n,t,e,r,c,u,s){try{var o=n[u](s),a=o.value}catch(i){return void e(i)}o.done?t(a):Promise.resolve(a).then(r,c)}function h(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function x(){var n=(0,s.useState)([]),t=n[0],e=n[1];return(0,s.useEffect)((function(){var n=function(){var n,t=(n=c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.bG)("tz1hHamH4QRSqA8NbzE8gE4ecP6QExoLJw6J");case 2:t=n.sent,e(t);case 4:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,c){var u=n.apply(t,e);function s(n){v(u,r,c,s,o,"next",n)}function o(n){v(u,r,c,s,o,"throw",n)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();n()}),[]),(0,u.jsxs)(o.Z,{children:[(0,u.jsx)("h1",{className:"text-3xl font-bold underline",children:"user"}),t.map((function(n){return(0,s.createElement)(p,function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){h(n,t,e[t])}))}return n}({},n,{key:n.id}))}))]})}},262:function(n,t,e){"use strict";var r=e(7018)();n.exports=r},3866:function(n,t,e){"use strict";e.d(t,{DD:function(){return p},H7:function(){return l},bG:function(){return f}});var r=e(4051),c=e.n(r),u=e(9669),s=e.n(u);function o(n,t,e,r,c,u,s){try{var o=n[u](s),a=o.value}catch(i){return void e(i)}o.done?t(a):Promise.resolve(a).then(r,c)}function a(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var u=n.apply(t,e);function s(n){o(u,r,c,s,a,"next",n)}function a(n){o(u,r,c,s,a,"throw",n)}s(void 0)}))}}console.log("backend url: http://140.112.30.39:5000");var i=s().create({baseURL:"http://140.112.30.39:5000"}),f=function(){var n=a(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.get("/ticket/".concat(t)).then((function(n){return n.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=a(c().mark((function n(t,e,r,u,o){var a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=JSON.stringify({signature:"".concat(o),message:"12345678"}),i={method:"post",url:"".concat("http://140.112.30.39:5000","/activate/").concat(t,"/").concat(e,"/").concat(r,"/").concat(u),headers:{"Content-Type":"application/json"},data:a},n.next=4,s()(i).then((function(n){return console.log("---success",n),n})).catch((function(n){return console.log("---err",n.response.status,n.response,{address:t,contract:e,ticketid:r,cnt:u,signature:o}),n.response}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})));return function(t,e,r,c,u){return n.apply(this,arguments)}}(),p=function(){var n=a(c().mark((function n(t,e,r,u){var o,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=JSON.stringify({otp:t,address:e}),a={method:"post",url:"".concat("http://140.112.30.39:5000","/verify/").concat(r,"/").concat(u),headers:{"Content-Type":"application/json"},data:o},n.next=4,s()(a).then((function(n){return console.log("---success",n),n})).catch((function(n){return console.log("---err",n.response.status,n.response),n.response}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})));return function(t,e,r,c){return n.apply(this,arguments)}}()},6489:function(n,t,e){"use strict";e.d(t,{GS:function(){return l},gU:function(){return f},iy:function(){return p}});var r=e(4051),c=e.n(r),u=e(2813);function s(n,t,e,r,c,u,s){try{var o=n[u](s),a=o.value}catch(i){return void e(i)}o.done?t(a):Promise.resolve(a).then(r,c)}function o(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var u=n.apply(t,e);function o(n){s(u,r,c,o,a,"next",n)}function a(n){s(u,r,c,o,a,"throw",n)}o(void 0)}))}}var a=e(9188).td.MAINNET,i={name:"NFT",iconUrl:"https://tezostaquito.io/img/favicon.png",preferredNetwork:a},f=new u.kx(i),l=(function(){var n=o(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.client.getActiveAccount();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))}(),function(){var n=o(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.client.getActiveAccount();case 2:if(t=n.sent){n.next=9;break}return n.next=6,f.requestPermissions({network:{type:a}});case 6:return n.next=8,f.client.getActiveAccount();case 8:t=n.sent;case 9:return n.abrupt("return",{success:!0,wallet:t.address});case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()),p=function(){var n=o(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.clearActiveAccount();case 2:return n.abrupt("return",{success:!0,wallet:null});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();!function(){var n=o(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.client.getActiveAccount();case 3:if(n.sent){n.next=7;break}return n.next=7,t.client.requestPermissions({type:{network:a}});case 7:return n.abrupt("return",{success:!0});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{success:!1,error:n.t0});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))}()},5883:function(){},6601:function(){},9214:function(){},5992:function(){},2361:function(){},4616:function(){}},function(n){n.O(0,[78,714,572,861,925,669,675,774,888,179],(function(){return t=9032,n(n.s=t);var t}));var t=n.O();_N_E=t}]);