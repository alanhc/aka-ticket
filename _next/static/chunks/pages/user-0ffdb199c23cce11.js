(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{9032:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t(5086)}])},8367:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var r=t(5893),c=t(4051),u=t.n(c),s=t(262),a=t(7294),i=t(2158);function o(e,n,t,r,c,u,s){try{var a=e[u](s),i=a.value}catch(o){return void t(o)}a.done?n(i):Promise.resolve(i).then(r,c)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function s(e){o(u,r,c,s,a,"next",e)}function a(e){o(u,r,c,s,a,"throw",e)}s(void 0)}))}}var f="ithacanet",d={name:"NFT",iconUrl:"https://tezostaquito.io/img/favicon.png",preferredNetwork:f},v=new i.kx(d),p=(function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.client.getActiveAccount();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=l(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.client.getActiveAccount();case 2:if(n=e.sent){e.next=9;break}return e.next=6,v.requestPermissions({network:{type:f}});case 6:return e.next=8,v.client.getActiveAccount();case 8:n=e.sent;case 9:return e.abrupt("return",{success:!0,wallet:n.address});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),h=function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.disconnect();case 2:return e.abrupt("return",{success:!0,wallet:null});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(){var e=l(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.client.getActiveAccount();case 3:if(e.sent){e.next=7;break}return e.next=7,n.client.requestPermissions({type:{network:f}});case 7:return e.abrupt("return",{success:!0});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))}();function x(e,n,t,r,c,u,s){try{var a=e[u](s),i=a.value}catch(o){return void t(o)}a.done?n(i):Promise.resolve(i).then(r,c)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function s(e){x(u,r,c,s,a,"next",e)}function a(e){x(u,r,c,s,a,"throw",e)}s(void 0)}))}}function w(e){var n=(0,a.useState)(null),t=n[0],c=n[1],i=function(){var e=m(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,t=n.success,r=n.wallet,console.log("connecting..",r,t),c(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=m(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:n=e.sent,t=n.success,r=n.wallet,console.log("disconnect..",r,t),c(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Link,{route:"/verifier",children:(0,r.jsx)("a",{className:"btn",children:"Verifier"})}),(0,r.jsx)(s.Link,{route:"/user",children:(0,r.jsx)("a",{className:"btn",children:"User"})}),(0,r.jsx)(s.Link,{route:"#",children:(0,r.jsx)("a",{className:"btn",onClick:t?o:i,children:t?t.slice(0,4)+"..."+t.slice(t.length-4,t.length):"Connect wallet"})})]})}var k=function(e){var n=e.children;return(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)(w,{}),n]})}},5086:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(4051),c=t.n(r),u=t(5893),s=t(7294),a=t(8367),i=t(262),o=t(5675),l=t.n(o);function f(e){var n=null!==e&&void 0!==e?e:{},t=n.name,r=n.thumbnailUri,c=n.contract,s=n.tokenId;return(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)(i.Link,{route:"/user/ticket",params:{name:"alan"},children:(0,u.jsx)("a",{children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:max-w-xl rounded-lg bg-white shadow-lg",children:[(0,u.jsx)(l(),{className:"w-full h-96 md:h-auto object-cover md:w-48 rounded-t-lg md:rounded-none md:rounded-l-lg",src:r,alt:"",width:500,height:500}),(0,u.jsxs)("div",{className:"p-6 flex flex-col justify-start",children:[(0,u.jsx)("h5",{className:"text-gray-900 text-xl font-medium mb-2",children:t}),(0,u.jsx)("p",{className:"text-gray-700 text-base mb-4",children:c}),(0,u.jsx)("p",{className:"text-gray-600 text-xs",children:s})]})]})})})})}var d=t(9669),v=t.n(d);function p(e,n,t,r,c,u,s){try{var a=e[u](s),i=a.value}catch(o){return void t(o)}a.done?n(i):Promise.resolve(i).then(r,c)}console.log("backend url: https://aka-ticket.herokuapp.com");var h=v().create({baseURL:"https://aka-ticket.herokuapp.com"}),x=function(){var e,n=(e=c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/ticket/".concat(n)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function s(e){p(u,r,c,s,a,"next",e)}function a(e){p(u,r,c,s,a,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}();function m(e,n,t,r,c,u,s){try{var a=e[u](s),i=a.value}catch(o){return void t(o)}a.done?n(i):Promise.resolve(i).then(r,c)}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(){var e=(0,s.useState)([]),n=e[0],t=e[1];return(0,s.useEffect)((function(){var e=function(){var e,n=(e=c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("tz1hHamH4QRSqA8NbzE8gE4ecP6QExoLJw6J");case 2:n=e.sent,t(n.result);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function s(e){m(u,r,c,s,a,"next",e)}function a(e){m(u,r,c,s,a,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,u.jsxs)(a.Z,{children:[(0,u.jsx)("h1",{className:"text-3xl font-bold underline",children:"user"}),n.map((function(e){return(0,s.createElement)(f,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}({},e,{key:e.id}))}))]})}},262:function(e,n,t){"use strict";var r=t(7018)();r.add("user/ticket","/user/ticket"),e.exports=r},5883:function(){},6601:function(){},9214:function(){},5992:function(){},2361:function(){},4616:function(){}},function(e){e.O(0,[78,714,572,861,522,713,774,888,179],(function(){return n=9032,e(e.s=n);var n}));var n=e.O();_N_E=n}]);